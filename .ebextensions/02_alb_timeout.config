option_settings:
  aws:elasticbeanstalk:environment:process:default:
    HealthyThresholdCount: 3
    UnhealthyThresholdCount: 5
    HealthCheckInterval: 15
    HealthCheckPath: /
    HealthCheckTimeout: 5
    Port: 80
    Protocol: HTTP
    DeregistrationDelay: 20
    MatcherHTTPCode: 200
    # Increase idle timeout to 10 minutes (600 seconds) for long-running requests
    IdleTimeout: 600
  aws:elasticbeanstalk:environment:process:default:
    # Also set connection draining timeout
    ConnectionDrainingEnabled: true
    ConnectionDrainingTimeout: 600

